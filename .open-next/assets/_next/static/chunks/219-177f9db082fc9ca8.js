"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{38684:(e,t,a)=>{a.r(t),a.d(t,{TableSection:()=>Y});var l=a(95155);let s=()=>(0,l.jsx)("div",{className:"border bg-white w-11 h-[380px] px-14 rounded-xl flex justify-center items-center border-[#000]",children:(0,l.jsx)("p",{className:"text-[#E36C2C] text-lg text-center font-bold",children:"DJ Table"})});var r=a(21567);let i=e=>{let{title:t,width:a,height:s}=e;return(0,l.jsx)("div",{style:{width:"".concat(a,"px"),height:"".concat(s,"px")},className:(0,r.cn)("border bg-white sm:w-[200px] relative rounded-xl hover:bg-[#FBEAD9] hover:border-[#E36C2C] flex justify-center px-14 items-center border-[#00000066]"),children:(0,l.jsx)("p",{className:"text-[#E36C2C] text-lg text-center font-bold",children:t})})};var o=a(12115);let n=e=>{let{title:t}=e;return(0,l.jsx)("div",{className:"rounded-full relative size-[56px] hover:bg-[#FBEAD9] hover:border-[#E36C2C] flex items-center justify-center bg-white text-white border border-[#00000066]",children:(0,l.jsxs)("p",{className:"text-[#E36C2C] text-lg text-center font-bold",children:[" ",t]})})};var d=a(5565),c=a(68629),u=a(62178);let x=e=>{let{seatNumber:t,rotate:a}=e;return(0,l.jsx)("div",{className:(0,r.cn)("relative flex items-center justify-center group",a),children:(0,l.jsxs)("div",{className:"relative w-10 h-8 bg-white group-hover:bg-[#FBEAD9] group-hover:border-[#E36C2C] rounded-lg z-30  flex items-center justify-center border-2 border-[#00000066]",children:[(0,l.jsx)("p",{className:(0,r.cn)("text-sm font-bold text-black",a),children:t}),(0,l.jsx)("div",{className:"w-7 h-5 bg-white group-hover:bg-[#FBEAD9] group-hover:border-[#E36C2C] rounded-b-lg mx-auto border-l-2 border-t-2 border-r-2 border-b-2 border-[#00000066] absolute top-7"})]})})};var m=a(1856),g=a(689),h=a(2291);let b=e=>{let{color:t="#E78140"}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",children:(0,l.jsx)("path",{d:"M21.5 8H3.5M16.5 2V5M8.5 2V5M12.5 18V12M9.5 15H15.5M8.3 22H16.7C18.3802 22 19.2202 22 19.862 21.673C20.4265 21.3854 20.8854 20.9265 21.173 20.362C21.5 19.7202 21.5 18.8802 21.5 17.2V8.8C21.5 7.11984 21.5 6.27976 21.173 5.63803C20.8854 5.07354 20.4265 4.6146 19.862 4.32698C19.2202 4 18.3802 4 16.7 4H8.3C6.61984 4 5.77976 4 5.13803 4.32698C4.57354 4.6146 4.1146 5.07354 3.82698 5.63803C3.5 6.27976 3.5 7.11984 3.5 8.8V17.2C3.5 18.8802 3.5 19.7202 3.82698 20.362C4.1146 20.9265 4.57354 21.3854 5.13803 21.673C5.77976 22 6.61984 22 8.3 22Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},p=e=>{var t,a;let{tableId:s,seats:r,children:i,selectedSeats:o,setSelectedSeats:n,handleOrder:d,all:u}=e;return u?(0,l.jsx)(l.Fragment,{children:i}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c.Bc,{children:(0,l.jsxs)(c.m_,{open:(null===(t=o[s])||void 0===t?void 0:t.length)>0,children:[(0,l.jsx)(c.k$,{asChild:!0,children:(0,l.jsx)("div",{className:"cursor-pointer",children:i})}),o&&(0,l.jsxs)(c.ZI,{className:"bg-white p-2 rounded shadow-lg w-48",children:[(0,l.jsx)(g.A,{onClick:()=>n({...o,[s]:[]}),className:"absolute top-2 right-2"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2]",children:[(0,l.jsxs)("h4",{className:"font-bold",children:["Table ",s]}),r.map((e,t)=>{var a,r;return(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(h.S,{id:"seat-".concat(s,"-").concat(t),className:"cursor-pointer size-4",checked:null===(r=o[s])||void 0===r?void 0:r.includes(null===(a=e._id)||void 0===a?void 0:a.$oid),disabled:"ordered"===e.status,onCheckedChange:t=>{var a,l;let r=t?[...o[s]||[],null===(a=e._id)||void 0===a?void 0:a.$oid]:(null===(l=o[s])||void 0===l?void 0:l.filter(t=>{var a;return t!==(null===(a=e._id)||void 0===a?void 0:a.$oid)}))||[];n({...o,[s]:r})}}),(0,l.jsx)("label",{htmlFor:"seat-".concat(s,"-").concat(t),className:"text-sm",children:"".concat(s,"-").concat(t+1," chair")})]},t)}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(h.S,{onClick:()=>{let e=r.map((e,t)=>t).filter(e=>"ordered"!==r[e].status);n({...o,[s]:e.map(e=>{var t;return null===(t=r[e]._id)||void 0===t?void 0:t.$oid})})},id:"seat-".concat(s,"-all"),className:"size-4",checked:(null===(a=o[s])||void 0===a?void 0:a.length)===r.filter(e=>"ordered"!==e.status).length}),(0,l.jsx)("label",{htmlFor:"seat-".concat(s,"-all"),className:"text-sm",children:"Order table ".concat(s,".")})]}),(0,l.jsxs)(c.$n,{size:"sm",variant:"outline",onClick:()=>d(s),className:"mt-2 w-full border-[#E78140] text-[#E78140] rounded-none rounded-tl-3xl flex items-center justify-center",children:[(0,l.jsx)(b,{})," Order"]})]})]})]})})})};var v=a(19970),f=a(33900),y=a(82195),j=a.n(y),N=a(30814),w=a(69606),S=a(31621),C=a(52897),_=a(73312),k=a(25012),E=a(15325),$=a(89348);function F(e){let{className:t,classNames:a,showOutsideDays:s=!0,...i}=e;return(0,l.jsx)($.hv,{showOutsideDays:s,className:(0,r.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,r.cn)((0,_.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,r.cn)((0,_.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,l.jsx)(k.A,{className:(0,r.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,l.jsx)(E.A,{className:(0,r.cn)("h-4 w-4",t),...a})}},...i})}F.displayName="Calendar";var O=a(80532);let I=O.bL,A=O.l9,P=o.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:i=4,...o}=e;return(0,l.jsx)(O.ZL,{children:(0,l.jsx)(O.UC,{ref:t,align:s,sideOffset:i,className:(0,r.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});P.displayName=O.UC.displayName;var D=a(12317),L=a(46195);let T=(0,a(31027).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),M=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(L.b,{ref:t,className:(0,r.cn)(T(),a),...s})});M.displayName=L.b.displayName;let q=o.createContext({}),z=e=>{let{...t}=e;return(0,l.jsx)(q.Provider,{value:{name:t.name},children:(0,l.jsx)(w.xI,{...t})})},H=()=>{let e=o.useContext(q),t=o.useContext(R),{getFieldState:a,formState:l}=(0,w.xW)(),s=a(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:r}=t;return{id:r,name:e.name,formItemId:"".concat(r,"-form-item"),formDescriptionId:"".concat(r,"-form-item-description"),formMessageId:"".concat(r,"-form-item-message"),...s}},R=o.createContext({}),V=o.forwardRef((e,t)=>{let{className:a,...s}=e,i=o.useId();return(0,l.jsx)(R.Provider,{value:{id:i},children:(0,l.jsx)("div",{ref:t,className:(0,r.cn)("space-y-2",a),...s})})});V.displayName="FormItem";let B=o.forwardRef((e,t)=>{let{className:a,...s}=e,{error:i,formItemId:o}=H();return(0,l.jsx)(M,{ref:t,className:(0,r.cn)(i&&"text-destructive",a),htmlFor:o,...s})});B.displayName="FormLabel";let U=o.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:r,formDescriptionId:i,formMessageId:o}=H();return(0,l.jsx)(D.DX,{ref:t,id:r,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...a})});U.displayName="FormControl",o.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:i}=H();return(0,l.jsx)("p",{ref:t,id:i,className:(0,r.cn)("text-sm text-muted-foreground",a),...s})}).displayName="FormDescription";let J=o.forwardRef((e,t)=>{var a;let{className:s,children:i,...o}=e,{error:n,formMessageId:d}=H(),c=n?String(null!==(a=null==n?void 0:n.message)&&void 0!==a?a:""):i;return c?(0,l.jsx)("p",{ref:t,id:d,className:(0,r.cn)("text-sm font-medium text-destructive",s),...o,children:c}):null});J.displayName="FormMessage";let Z=e=>{let{control:t,name:a,label:s}=e,i=e=>e instanceof Date||"string"==typeof e?new Date(e):void 0,o=e=>e?(0,S.GP)(e,"LLL dd, y HH:mm"):"Pick a date and time",n=(e,t)=>{if(!e||!t)return e;let[a,l]=t.split(":").map(Number),s=new Date(e);return s.setHours(a,l),s};return(0,l.jsx)(z,{control:t,name:a,render:e=>{let{field:t}=e;return(0,l.jsxs)(V,{className:"w-full",children:[(0,l.jsx)(B,{className:"text-sm",children:s||"Date and Time"}),(0,l.jsx)(U,{children:(0,l.jsxs)(I,{children:[(0,l.jsx)(A,{asChild:!0,children:(0,l.jsxs)(_.$,{id:"date",variant:"outline",className:(0,r.cn)("w-full justify-start px-2 text-left font-normal",!t.value&&"text-muted-foreground"),children:[(0,l.jsx)(C.A,{className:"mr-2"}),t.value?o(i(t.value)):(0,l.jsx)("p",{children:"Pick a date and time"})]})}),(0,l.jsx)(P,{className:"w-auto p-3",align:"start",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(F,{mode:"single",defaultMonth:i(t.value)||void 0,selected:i(t.value)||void 0,onSelect:e=>{if(e){let a=i(t.value);a&&e.setHours(a.getHours(),a.getMinutes()),t.onChange(e)}},numberOfMonths:1}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(B,{className:"text-sm",children:"Time"}),(0,l.jsx)(f.p,{type:"time",value:t.value?(0,S.GP)(i(t.value),"HH:mm"):"",onChange:e=>{let a=e.target.value,l=n(i(t.value),a);t.onChange(l||void 0)}})]})]})})]})}),(0,l.jsx)(J,{})]})}})};var K=a(25848),G=a(34180);let W=e=>{let{isOpen:t,onClose:a,seats:s,tableName:i,refetch:o}=e,n=(0,w.mN)({defaultValues:{fullName:"",email:"",phone:"",date:new Date}}),{mutate:d,isPending:u}=(0,K.n)({mutationFn:e=>(0,G.P3)({...e,seatIds:e.seatIds.map(e=>e.$oid)}),onSuccess:()=>{N.o.success("Order placed successfully"),n.reset(),a(),o()},onError:e=>{N.o.error(e.message||"Order placement failed")}});return(0,l.jsx)(v.a,{title:"".concat(i," Table"),isOpen:t,onClose:a,children:(0,l.jsx)(w.Op,{...n,children:(0,l.jsxs)("form",{onSubmit:n.handleSubmit(e=>{d({name:e.fullName,phone:e.phone,email:e.email,tableName:i,seatIds:s,date:e.date})}),className:"grid w-full gap-10",children:[(0,l.jsx)(f.p,{...n.register("fullName",{required:"Full name is required"}),className:(0,r.cn)(j().className,"border-b rounded-none border-[#488457] placeholder:opacity-50 bg-transparent placeholder:text-[#488457] placeholder:text-2xl placeholder:font-semibold placeholder:font-roba"),placeholder:"FULL NAME"}),n.formState.errors.fullName&&(0,l.jsx)("span",{className:"text-red-500 text-sm",children:n.formState.errors.fullName.message}),(0,l.jsx)(f.p,{...n.register("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:(0,r.cn)(j().className,"border-b rounded-none border-[#488457] placeholder:opacity-50 bg-transparent placeholder:text-[#488457] placeholder:text-2xl placeholder:font-semibold placeholder:font-roba"),placeholder:"EMAIL ADDRESS"}),n.formState.errors.email&&(0,l.jsx)("span",{className:"text-red-500 text-sm",children:n.formState.errors.email.message}),(0,l.jsx)(f.p,{...n.register("phone",{required:"Phone number is required"}),className:(0,r.cn)(j().className,"border-b rounded-none border-[#488457] placeholder:opacity-50 bg-transparent placeholder:text-[#488457] placeholder:text-2xl placeholder:font-semibold placeholder:font-roba"),placeholder:"PHONE NUMBER"}),n.formState.errors.phone&&(0,l.jsx)("span",{className:"text-red-500 text-sm",children:n.formState.errors.phone.message}),(0,l.jsx)(Z,{control:n.control,name:"date",label:"Date",className:"w-full"}),(0,l.jsx)("div",{className:"flex border flex-wrap gap-6 py-5 border-[#488457] pb-10 rounded-lg px-4",children:s.map((e,t)=>{var a;return(0,l.jsx)(x,{seatNumber:null!==(a=e.seatNumber)&&void 0!==a?a:t+1,rotate:"rotate-0"},"".concat(i,"-").concat(e.$oid,"-").concat(t))})},"".concat(i,"-").concat(s.join("-"))),(0,l.jsx)(c.$n,{type:"submit",disabled:u,className:"bg-[#E78140] hover:bg-[#E78140]/90 text-white rounded-none rounded-tl-3xl",children:u?"Processing...":"Order"})]})})})};var X=a(75538),Q=a(36669);let Y=()=>{let{width:e}=(0,m.A)(),[t,a]=(0,o.useState)({}),[s,r]=(0,o.useState)(!1),[i,n]=(0,o.useState)(!1),{data:g,isLoading:h,refetch:v}=(0,Q.K)(),f=((e,t)=>e.map(e=>{let a=null==t?void 0:t.find(t=>t.tableName===e.id);if(a){var l;return{...e,seats:(null===(l=e.seats)||void 0===l?void 0:l.map((e,t)=>{let l=a.seats[t];return l?{...e,status:l.status,_id:l._id}:e}))||[]}}return e}))(e>1580?et:ee,g),y=["dj-left","dj-right","mixologist"],j=(e,t)=>{y.includes(e)||a(a=>{let l=a[e]||[],s="object"==typeof t&&(null==t?void 0:t.$oid)?t.$oid:t;return l.includes(s)?{...a,[e]:l.filter(e=>e!==s)}:{...a,[e]:[...l,s]}})},N=e>1580?et:ee,w=()=>{n(!0);let e={};N.forEach(t=>{t.seats&&t.seats.length>0&&(e[t.id]=Array.from({length:t.seats.length},(e,t)=>t.toString()))}),a(e),r(!0)},S=e=>{a(t=>{var a;return{...t,[e]:null!==(a=t[e])&&void 0!==a?a:[]}}),r(!0)};return h?(0,l.jsx)("div",{className:"h-screen w-full",children:(0,l.jsxs)("div",{className:"flex justify-center items-center h-full flex-col gap-10",children:[(0,l.jsx)(d.default,{src:"/home/logo.webp",alt:"",width:200,height:300}),(0,l.jsx)("p",{className:"text-white text-2xl font-bold animate-pulse",children:"Loading..."})]})}):(0,l.jsxs)("div",{className:"bg-[url('/menu/bg.png')] min-h-screen flex flex-col justify-between items-center bg-cover bg-center bg-no-repeat w-full",children:[(0,l.jsx)(X.default,{className:"w-full flex justify-center items-center",children:(0,l.jsx)(d.default,{src:"/menu/nomad.png",alt:"Nomad",width:1100,height:700,sizes:"100vw",className:"mt-24 w-full max-w-[1100px]"})}),(0,l.jsxs)("div",{className:"flex flex-col justify-between h-full gap-24 items-center w-full",children:[(0,l.jsx)(X.default,{children:(0,l.jsx)("div",{className:"flex justify-center relative items-center w-full h-[500px]",children:(0,l.jsx)("div",{className:"relative  w-full h-full max-2xl:overflow-auto",children:f.map(e=>{var s;return(0,l.jsx)("div",{className:"absolute",style:{left:e.x,top:e.y},children:(0,l.jsx)("div",{className:"relative cursor-pointer",children:(0,l.jsxs)(p,{all:i,handleOrder:S,setSelectedSeats:a,selectedSeats:t,tableId:e.id,seats:e.seats||[],children:[(0,l.jsx)("div",{onClick:()=>{var t,a;return j(e.id,null===(a=e.seats)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t._id.$oid)},children:e.children}),null===(s=e.seats)||void 0===s?void 0:s.map((a,s)=>{var r,i;return(0,l.jsx)("div",{style:{left:a.x,top:a.y},className:"absolute",children:(0,l.jsx)("div",{onClick:()=>j(e.id,a._id),className:"cursor-pointer ".concat((null===(i=t[e.id])||void 0===i?void 0:i.includes((null===(r=a._id)||void 0===r?void 0:r.$oid)||a._id))||"ordered"===a.status?"opacity-50":""),children:(0,l.jsx)(x,{seatNumber:s+1,rotate:a.rotate})})},s)})]})})},e.id)})})})}),(0,l.jsxs)("div",{className:"flex flex-col mb-24 gap-3 max-w-[300px] justify-center items-center w-full",children:[(0,l.jsxs)(c.$n,{onClick:()=>w(),variant:"ghost",className:"w-full border hover:bg-white/50 text-white rounded-tl-3xl",children:[(0,l.jsx)(b,{color:"white"})," Organizing events"]}),(0,l.jsxs)(c.$n,{variant:"ghost",className:"w-full border hover:bg-white/50 text-white rounded-tl-3xl",children:[(0,l.jsx)(u.s3,{color:"white"})," Event spaces at four sense"]})]})]}),(0,l.jsx)(W,{refetch:v,tableName:i?" Organizing events":Object.keys(t)[0],isOpen:s,onClose:()=>{r(!1),a({}),n(!1)},seats:(()=>{if(i)return Object.values(t).flat().map(e=>({$oid:e.toString()}));let e=Object.keys(t)[0],a=f.find(t=>t.id===e);return(t[e]||[]).map(e=>{var t,l;let s=null!==(l=null==a?void 0:null===(t=a.seats)||void 0===t?void 0:t.findIndex(t=>{var a;return(null===(a=t._id)||void 0===a?void 0:a.$oid)===e||t._id===e}))&&void 0!==l?l:-1;return{$oid:e.toString(),seatNumber:s+1}})})()})]})},ee=[{id:"dj-left",x:"5%",y:"30%",children:(0,l.jsx)(s,{})},{id:"mixologist",x:"270px",y:"45%",children:(0,l.jsx)(i,{title:"Mixologist",width:85,height:225})},{id:"c1",x:"400px",y:"53%",children:(0,l.jsx)(i,{title:"c1",width:180,height:96}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"ordered",x:"10%",y:"105%",rotate:"rotate-0"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"40%",y:"105%",rotate:"rotate-0"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"70%",y:"105%",rotate:"rotate-0"},{title:"Seat 1",image:"/table/seat.png",status:"ordered",x:"10%",y:"-40%",rotate:"rotate-180"},{title:"Seat 2",image:"/table/seat.png",status:"ordered",x:"40%",y:"-40%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"ordered",x:"70%",y:"-40%",rotate:"rotate-180"}]},{id:"c2",x:"590px",y:"50%",children:(0,l.jsx)(i,{title:"c2",width:180,height:96}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"ordered",x:"10%",y:"-40%",rotate:"rotate-180"},{title:"Seat 2",image:"/table/seat.png",status:"ordered",x:"40%",y:"-40%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"ordered",x:"70%",y:"-40%",rotate:"rotate-180"}]},{id:"c3",x:"780px",y:"51.5%",children:(0,l.jsx)(i,{title:"c3",width:180,height:96}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"10%",y:"105%",rotate:"rotate-0"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"40%",y:"105%",rotate:"rotate-0"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"70%",y:"105%",rotate:"rotate-0"}]},{id:"c4",x:"970px",y:"41.5%",children:(0,l.jsx)(i,{title:"c4",width:60,height:180}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"100%",y:"40%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"100%",y:"10%",rotate:"-rotate-90"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"100%",y:"70%",rotate:"-rotate-90"}]},{id:"a1",x:"1210px",y:"35%",children:(0,l.jsx)(n,{title:"a1"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"a2",x:"1210px",y:"75%",children:(0,l.jsx)(n,{title:"a2"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"a3",x:"1450px",y:"24%",children:(0,l.jsx)(n,{title:"a3"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"a4",x:"1450px",y:"62%",children:(0,l.jsx)(n,{title:"a4"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"a5",x:"1450px",y:"100%",children:(0,l.jsx)(n,{title:"a5"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"dj-right",x:"1700px",y:"30%",children:(0,l.jsx)(s,{})}],et=[{id:"dj-left",x:"5%",y:"30%",children:(0,l.jsx)(s,{})},{id:"mixologist",x:"15%",y:"45%",children:(0,l.jsx)(i,{title:"Mixologist",width:85,height:225})},{id:"c1",x:"22%",y:"53%",children:(0,l.jsx)(i,{title:"c1",width:180,height:96}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"10%",y:"105%",rotate:"rotate-0"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"40%",y:"105%",rotate:"rotate-0"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"70%",y:"105%",rotate:"rotate-0"},{title:"Seat 1",image:"/table/seat.png",status:"ordered",x:"10%",y:"-40%",rotate:"rotate-180"},{title:"Seat 2",image:"/table/seat.png",status:"ordered",x:"40%",y:"-40%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"ordered",x:"70%",y:"-40%",rotate:"rotate-180"}]},{id:"c2",x:"32.5%",y:"50%",children:(0,l.jsx)(i,{title:"c2",width:180,height:96}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"ordered",x:"10%",y:"-40%",rotate:"rotate-180"},{title:"Seat 2",image:"/table/seat.png",status:"ordered",x:"40%",y:"-40%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"ordered",x:"70%",y:"-40%",rotate:"rotate-180"}]},{id:"c3",x:"43.5%",y:"51.5%",children:(0,l.jsx)(i,{title:"c3",width:180,height:96}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"10%",y:"105%",rotate:"rotate-0"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"40%",y:"105%",rotate:"rotate-0"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"70%",y:"105%",rotate:"rotate-0"}]},{id:"c4",x:"54%",y:"41.5%",children:(0,l.jsx)(i,{title:"c4",width:60,height:180}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"100%",y:"40%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"100%",y:"10%",rotate:"-rotate-90"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"100%",y:"70%",rotate:"-rotate-90"}]},{id:"a1",x:"80%",y:"28%",children:(0,l.jsx)(n,{title:"a1"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"a2",x:"80%",y:"68%",children:(0,l.jsx)(n,{title:"a2"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"a3",x:"80%",y:"105%",children:(0,l.jsx)(n,{title:"a3"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"a4",x:"68%",y:"50%",children:(0,l.jsx)(n,{title:"a4"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"a5",x:"68%",y:"86%",children:(0,l.jsx)(n,{title:"a5"}),seats:[{title:"Seat 1",image:"/table/seat.png",status:"available",x:"110%",y:"25%",rotate:"-rotate-90"},{title:"Seat 2",image:"/table/seat.png",status:"available",x:"12%",y:"-70%",rotate:"rotate-180"},{title:"Seat 3",image:"/table/seat.png",status:"available",x:"-80%",y:"25%",rotate:"rotate-90"},{title:"Seat 4",image:"/table/seat.png",status:"available",x:"12%",y:"110%",rotate:"rotate-0"}]},{id:"dj-right",x:"90%",y:"30%",children:(0,l.jsx)(s,{})}]},88904:(e,t,a)=>{a.r(t),a.d(t,{SeatsTableCard:()=>u});var l=a(95155),s=a(21567),r=a(68629),i=a(12115),o=a(25848),n=a(34180),d=a(30814),c=a(2291);let u=e=>{let{data:t,refetch:a}=e,[u,x]=(0,i.useState)({}),[m,g]=(0,i.useState)(null),{mutate:h}=(0,o.n)({mutationFn:n.V9,onSuccess:()=>{d.o.success("Table seats updated"),g(null),a()},onError:()=>{d.o.error("Failed to update table seat")}}),b=(e,t,a)=>{g(e),x(l=>{let s=l[e]||[];return{...l,[e]:a?[...s,t]:s.filter(e=>e!==t)}})},p=(e,t)=>{var a;(null===(a=u[t])||void 0===a?void 0:a.length)&&(h({tableName:e,seatIds:u[t]}),x(e=>({...e,[t]:[]})))};return(0,l.jsxs)("div",{className:"flex flex-col gap-4 w-full shadow-sm bg-white h-full p-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Table Seats"}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-4",children:null==t?void 0:t.map(e=>{var t;return(0,l.jsxs)("div",{className:"border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex justify-between border-b p-4",children:[(0,l.jsx)("p",{children:"Table name"}),(0,l.jsxs)("h1",{className:"font-semibold",children:[e.tableName," Table"]})]}),(0,l.jsxs)("div",{className:"p-4 flex flex-col gap-2",children:[e.seats.map(t=>{var a;return(0,l.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,l.jsx)("h1",{children:t.title}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(c.S,{disabled:"available"===t.status||null!==m&&m!==e._id.$oid,checked:null===(a=u[e._id.$oid])||void 0===a?void 0:a.includes(t._id.$oid),onCheckedChange:a=>b(e._id.$oid,t._id.$oid,a)}),(0,l.jsx)("p",{className:(0,s.cn)("flex items-center gap-2","available"===t.status?"text-green-500":"text-red-500"),children:t.status})]})]},t._id.$oid)}),(0,l.jsx)(r.$n,{disabled:m!==e._id.$oid||!(null===(t=u[e._id.$oid])||void 0===t?void 0:t.length),onClick:()=>p(e.tableName,e._id.$oid),variant:"outline",children:"Update"})]})]},e._id.$oid)})})]})}},2291:(e,t,a)=>{a.d(t,{S:()=>n});var l=a(95155),s=a(12115),r=a(86352),i=a(27193),o=a(21567);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.bL,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[#E78140] data-[state=checked]:text-primary-foreground",a),...s,children:(0,l.jsx)(r.C1,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,l.jsx)(i.A,{className:"h-4 w-4"})})})});n.displayName=r.bL.displayName},34180:(e,t,a)=>{function l(e){return"object"==typeof e&&null!==e&&"error"in e}async function s(e){let t=await fetch("".concat("","/api/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(l(e)?e.error:"Login failed")}return t.json()}async function r(){return(await fetch("".concat("","/api/tables"))).json()}async function i(e){return console.log(e),(await fetch("".concat("","/api/table/update-table-seat-status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async function o(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString());let a="".concat("","/api/order").concat(t.toString()?"?".concat(t.toString()):"");return(await fetch(a)).json()}async function n(e){console.log("API call data:",e),console.log("API call date:",e.date,typeof e.date),console.log("API call JSON:",JSON.stringify(e));let t=await fetch("".concat("","/api/order"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error((l(e)?e.error:"Order creation failed")||"Order creation failed")}return t.json()}a.d(t,{Fi:()=>o,Il:()=>s,P3:()=>n,V9:()=>i,qx:()=>r})},36669:(e,t,a)=>{a.d(t,{K:()=>r,e:()=>i});var l=a(547),s=a(34180);let r=()=>(0,l.I)({queryKey:["tables"],queryFn:s.qx}),i=e=>(0,l.I)({queryKey:["order-list",null==e?void 0:e.page,null==e?void 0:e.limit],queryFn:()=>(0,s.Fi)(e)})}}]);