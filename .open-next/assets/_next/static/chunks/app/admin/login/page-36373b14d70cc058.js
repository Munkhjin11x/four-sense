(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{6825:(e,t,r)=>{Promise.resolve().then(r.bind(r,44991))},76046:(e,t,r)=>{"use strict";var s=r(66658);r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},44991:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(95155),a=r(49048),n=r(33900),l=r(5565),o=r(48173),c=r.n(o),i=r(12115),d=r(69606),u=r(25848),m=r(34180),h=r(30814),x=r(76046),g=r(7859);let p=()=>{let{register:e,handleSubmit:t}=(0,d.mN)(),[r,o]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!0),y=(0,x.useRouter)(),{mutate:w}=(0,u.n)({mutationFn:async e=>{let t=await (0,m.Il)(e);return console.log("Full response:",t),t},onSuccess:e=>{o(!1),(null==e?void 0:e.message)&&(h.o.success(e.message),y.push("/admin/dashboard"),(0,g.TB)(e.userId,1))},onError:e=>{o(!1),console.log(e),e instanceof Error?h.o.error(e.message):h.o.error("An unexpected error occurred")}});return(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)("section",{className:"w-full h-full",children:(0,s.jsx)("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:(0,s.jsx)("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"p-6  space-y-4 md:space-y-6 sm:p-8",children:[(0,s.jsx)(c(),{href:"/",className:"flex w-full items-center text-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",children:(0,s.jsx)(l.default,{src:"/navbar/logo.png",alt:"logo",width:240,height:50})}),(0,s.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign in to your Admin account"}),(0,s.jsxs)("form",{className:"space-y-4 md:space-y-6",onSubmit:t(e=>{o(!0),w(e)}),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(n.p,{className:"border",type:"text",placeholder:"Username",...e("username")}),(0,s.jsx)(n.p,{className:"border",type:p?"password":"text",placeholder:"Password",...e("password")}),(0,s.jsx)(a.$n,{type:"button",onClick:()=>f(!p),variant:"ghost",children:p?"Show":"Hide"})]}),(0,s.jsx)(a.$n,{loading:r,className:"w-full",type:"submit",children:"Login"})]})]})})})})})}},7859:(e,t,r)=>{"use strict";r.d(t,{GG:()=>a,TB:()=>s,eF:()=>n});let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,r=Date.now();localStorage.setItem("token",JSON.stringify({token:e,expiresAt:r+36e5*t}))},a=()=>{try{let e=localStorage.getItem("token");if(!e)return null;let t=JSON.parse(e);if(Date.now()>t.expiresAt)return localStorage.removeItem("token"),null;return t.token}catch(e){return console.error("Error parsing token data:",e),localStorage.removeItem("token"),null}},n=()=>{localStorage.removeItem("token")}}},e=>{var t=t=>e(e.s=t);e.O(0,[688,494,107,142,572,536,929,274,309,810,48,441,517,358],()=>t(6825)),_N_E=e.O()}]);